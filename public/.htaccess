# DÃ©sactive MultiViews (important pour Symfony)
<IfModule mod_negotiation.c>
    Options -MultiViews
</IfModule>

# Active la rÃ©Ã©criture dâ€™URL
<IfModule mod_rewrite.c>
    RewriteEngine On

    ##############################################
    # ğŸ” OPTIONNEL : Forcer HTTPS en mutualisÃ©
    ##############################################
    #RewriteCond %{HTTPS} !=on
    #RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

    ##############################################
    # ğŸ“Œ Redirige toutes les requÃªtes vers index.php
    ##############################################
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^ index.php [QSA,L]
</IfModule>

##############################################
# ğŸš« EmpÃªcher l'accÃ¨s aux fichiers sensibles
##############################################
<FilesMatch "\.(env|env\.local|env\.prod|yaml|yml|xml|lock|sql|sqlite)$">
    Require all denied
</FilesMatch>

##############################################
# ğŸ—‚ EmpÃªcher lâ€™indexation des dossiers
##############################################
Options -Indexes

##############################################
# ğŸš€ Cache navigateur pour les assets
##############################################
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresDefault "access plus 1 month"

    ExpiresByType text/css "access plus 1 month"
    ExpiresByType text/javascript "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
    ExpiresByType image/svg+xml "access plus 1 month"
</IfModule>
